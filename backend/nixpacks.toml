[phases.setup]
# Dependencias del sistema necesarias para procesamiento de PDFs
aptPkgs = ["tesseract-ocr", "tesseract-ocr-spa", "ghostscript", "poppler-utils", "libgl1"]
nixPkgs = ["python311", "python311Packages.pip", "python311Packages.setuptools", "python311Packages.wheel"]
cmds = ["python3 -m venv /opt/venv"]

[phases.install]
cmds = [
  "/opt/venv/bin/pip install --upgrade pip",
  "/opt/venv/bin/pip install -r requirements.txt"
]

[start]
# Opción simple: Flask directo (solo para desarrollo/testing)
# Railway proporciona $PORT dinámicamente
cmd = "/opt/venv/bin/python server.py"
